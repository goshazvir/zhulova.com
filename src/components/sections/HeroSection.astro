---
import { heroContent } from '@/data/homePageContent';
import { Image } from 'astro:assets';
---

<section id="home" class="relative hero-section aurora-background pt-28 md:pt-32 lg:pt-28 overflow-hidden" data-animate>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 md:py-10 lg:py-16 w-full">
    <div class="grid grid-cols-1 lg:grid-cols-[55%_45%] gap-8 md:gap-8 lg:gap-16 items-center w-full max-w-full">
      <!-- Left Column: Text Content -->
      <div class="space-y-8 hero-content">
        <div class="space-y-4">
          <h1 class="hero-title font-serif font-bold text-navy-900 leading-tight text-balance">
            {heroContent.title}
          </h1>
          <p class="text-xl md:text-2xl lg:text-3xl text-gold-600 font-medium">
            {heroContent.subtitle}
          </p>
        </div>

        <p class="text-lg md:text-xl text-navy-700 leading-relaxed max-w-2xl">
          {heroContent.description}
        </p>

        <div class="flex flex-col sm:flex-row gap-4">
          <button
            id="hero-cta-button"
            type="button"
            class="hero-cta bg-gold-500 text-navy-900 px-8 py-4 text-lg font-semibold rounded-xl hover:bg-gold-400 transition-all duration-200 focus:ring-2 focus:ring-offset-2 focus:ring-gold-500 shadow-lg hover:shadow-xl"
            aria-label="Записатись на безкоштовну консультацію"
          >
            {heroContent.ctaText}
          </button>
        </div>

        <!-- Trust Indicators - Premium Design -->
        <div class="trust-indicators pt-6 md:pt-8">
          <div class="trust-card">
            <!-- Certificate Icon -->
            <div class="trust-icon">
              <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
              </svg>
            </div>
            <div class="trust-content">
              <span class="trust-label">Сертифікований</span>
              <span class="trust-value">Професійний коуч</span>
            </div>
          </div>
          <div class="trust-card">
            <!-- Experience Icon -->
            <div class="trust-icon">
              <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
              </svg>
            </div>
            <div class="trust-content">
              <span class="trust-value">10+ років</span>
              <span class="trust-label">Досвіду в коучингу</span>
            </div>
          </div>
          <div class="trust-card">
            <!-- Users Icon -->
            <div class="trust-icon">
              <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/>
              </svg>
            </div>
            <div class="trust-content">
              <span class="trust-value">200+ клієнтів</span>
              <span class="trust-label">Досягли своїх цілей</span>
            </div>
          </div>
          <div class="trust-card">
            <!-- Chart Icon for Hours -->
            <div class="trust-icon">
              <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
              </svg>
            </div>
            <div class="trust-content">
              <span class="trust-value">12 000+ годин</span>
              <span class="trust-label">Коучингової практики</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Right Column: Image -->
      <div class="relative lg:sticky lg:top-20 pr-0 md:pr-4 lg:pr-8 w-full max-w-full box-border min-w-0 hero-image-wrapper flex items-center">
        <!-- Organic decorative elements - moved outside image container -->
        <div class="organic-blob" aria-hidden="true"></div>
        <div class="organic-accent-1" aria-hidden="true"></div>
        <div class="organic-accent-2" aria-hidden="true"></div>

        <div class="relative hero-image-container w-full max-w-full overflow-hidden">
          <Image
            src={heroContent.imageSrc}
            alt={heroContent.imageAlt}
            width={600}
            height={800}
            format="webp"
            quality={90}
            loading="eager"
            fetchpriority="high"
            class="hero-image w-full max-w-full h-auto object-cover object-center rounded-3xl block"
            sizes="(max-width: 768px) 100vw, (max-width: 1024px) 50vw, 45vw"
          />
        </div>

      </div>
    </div>
  </div>

  <!-- Scroll indicator - hidden on mobile -->
  <div class="hidden md:block absolute bottom-10 left-1/2 -translate-x-1/2">
    <a href="#about" aria-label="Прокрутити далі" class="text-navy-400 hover:text-gold-500 transition-colors animate-fade-in-up" style="animation-delay: 1s;">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"/>
      </svg>
    </a>
  </div>
</section>

<script>
  import { useUIStore } from '@/stores/uiStore';

  const heroCTAButton = document.getElementById('hero-cta-button');
  if (heroCTAButton) {
    heroCTAButton.addEventListener('click', () => {
      useUIStore.getState().openConsultationModal();
    });
  }
</script>

<style>
  /* Responsive hero section height with modern viewport units */
  .hero-section {
    /* Mobile first approach - уменьшенная высота для экономии места */
    min-height: auto;
    padding-bottom: 1.5rem; /* Compact on mobile without scroll arrow */
  }

  /* Планшеты */
  @media (min-width: 768px) {
    .hero-section {
      min-height: 75vh;
      min-height: 75dvh; /* Dynamic viewport height - адаптируется при скролле */
      padding-bottom: 2rem;
    }
  }

  /* Десктоп */
  @media (min-width: 1024px) {
    .hero-section {
      min-height: 85vh;
      min-height: 85lvh; /* Large viewport height - полная высота без UI */
      padding-bottom: 2.5rem;
    }
  }

  /* Ландшафтная ориентация на мобильных */
  @media (max-width: 768px) and (orientation: landscape) {
    .hero-section {
      min-height: auto;
      padding-top: 7rem; /* 112px - accommodate fixed header */
      padding-bottom: 1.5rem;
    }
  }

  /* Маленькие экраны (< 600px высота) */
  @media (max-height: 600px) {
    .hero-section {
      min-height: auto;
      padding-top: 6rem; /* 96px - accommodate fixed header */
      padding-bottom: 1rem;
    }
  }

  /* Очень большие экраны (4K+) */
  @media (min-width: 2560px) {
    .hero-section {
      min-height: 70vh; /* Не занимаем весь экран на огромных мониторах */
      max-height: 1200px; /* Ограничиваем максимальную высоту */
    }
  }

  /* Typography-First: Large, elegant typography */
  .hero-title {
    /* Mobile */
    font-size: 3rem; /* 48px */
    line-height: 1.1;
  }

  /* Tablet */
  @media (min-width: 768px) {
    .hero-title {
      font-size: 4.5rem; /* 72px */
    }
  }

  /* Desktop */
  @media (min-width: 1024px) {
    .hero-title {
      font-size: 5.5rem; /* 88px */
    }
  }

  /* Large Desktop */
  @media (min-width: 1440px) {
    .hero-title {
      font-size: 6.5rem; /* 104px */
    }
  }

  /* Wrapper для правой колонки - строгое ограничение */
  .hero-image-wrapper {
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
    overflow: visible; /* Allow decorative elements to extend */
    background: transparent;
    position: relative;
  }

  /* Адаптивное изображение героя - Best Practices */
  .hero-image-container {
    width: 100%;
    max-width: 100%;
    margin: 0 auto;
    padding: 0;
    box-sizing: border-box;
    /* Clean container with no overflow clipping on image */
    overflow: visible;
    background: transparent;
    position: relative;
    isolation: isolate; /* Create stacking context */
    /* Vertical alignment adjustment - raised higher */
    transform: translateY(-4rem);
  }

  /* Мобильные устройства */
  @media (max-width: 767px) {
    .hero-image-wrapper {
      padding-right: 0 !important; /* Override any padding */
      padding-left: 0;
    }

    .hero-image-container {
      width: 100%;
      max-width: 100%;
      max-height: 400px;
      margin: 0;
      padding: 0;
      transform: none; /* No vertical adjustment on mobile */
    }

    .hero-image {
      max-height: 400px;
      width: 100%;
      max-width: 100%;
      height: auto;
      object-fit: cover;
      object-position: center 30%;
      display: block;
      border-radius: 1.5rem; /* Consistent rounding */
    }
  }

  /* Общие стили для планшетов */
  @media (min-width: 768px) and (max-width: 1023px) {
    .hero-image-wrapper {
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 2rem 0;
      background: radial-gradient(ellipse at center,
        rgba(212, 175, 55, 0.03) 0%,
        transparent 60%);
    }

    .hero-image-container {
      width: auto;
      max-width: 500px;
      margin: 0 auto;
      transform: none; /* Reset transform on tablets */
    }

    .hero-image {
      border-radius: 24px;
      box-shadow:
        0 20px 40px rgba(26, 26, 46, 0.08),
        0 0 80px rgba(212, 175, 55, 0.05);
    }

    /* Center text content on tablets */
    .hero-content {
      text-align: center;
      max-width: 600px;
      margin: 0 auto;
    }

    .hero-content .flex {
      justify-content: center;
    }

    .trust-indicators {
      justify-self: center;
      max-width: 500px;
      margin: 1.5rem auto 0;
    }

    .hero-title {
      font-size: 3.5rem; /* Slightly smaller on tablets */
    }
  }

  /* Планшеты в портретной ориентации */
  @media (min-width: 768px) and (max-width: 1023px) and (orientation: portrait) {
    .hero-image-container {
      width: 100%;
      max-width: 450px; /* Limit width for better proportions */
      max-height: 600px; /* Increased height */
      margin: 0 auto;
      transform: translateY(-1rem); /* Smaller adjustment on tablets */
    }

    .hero-image {
      max-height: 600px; /* Increased from 500px */
      width: auto; /* Auto width to maintain aspect ratio */
      max-width: 100%;
      height: auto;
      object-fit: cover;
      object-position: center 20%;
      display: block;
      margin: 0 auto; /* Center the image */
    }
  }

  /* Планшеты в ландшафтной ориентации */
  @media (min-width: 768px) and (max-width: 1023px) and (orientation: landscape) {
    .hero-image-container {
      width: 100%;
      max-width: 400px; /* Limit width for better proportions */
      max-height: 550px; /* Increased height */
      margin: 0 auto;
      transform: translateY(-1rem); /* Smaller adjustment on tablets */
    }

    .hero-image {
      max-height: 550px; /* Increased from 450px */
      width: auto; /* Auto width to maintain aspect ratio */
      max-width: 100%;
      height: auto;
      object-fit: cover;
      object-position: center 20%;
      display: block;
      margin: 0 auto; /* Center the image */
    }
  }

  /* Десктоп */
  @media (min-width: 1024px) {
    .hero-image-wrapper {
      /* Учитываем padding справа при расчете ширины */
      width: calc(100% - 2rem);
      max-width: calc(100% - 2rem);
    }

    .hero-image-container {
      width: 100%;
      max-width: 100%;
      margin: 0 auto;
      overflow: visible;
      box-sizing: border-box;
      background: transparent;
      isolation: isolate;
    }

    .hero-image {
      max-height: 800px;
      width: 100%;
      max-width: 100% !important;
      height: auto;
      object-position: center 20%;
      display: block;
      margin: 0;
      box-sizing: border-box;
      background: transparent;
    }
  }


  /* Fade-in-up animation for content */
  @keyframes fade-in-up {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .hero-content {
    animation: fade-in-up 0.6s ease-out;
  }

  .hero-image {
    animation: fade-in-up 0.8s ease-out 0.2s both;
  }

  .animate-fade-in-up {
    animation: fade-in-up 0.6s ease-out both;
  }

  /* CTA Button hover effect */
  .hero-cta:hover {
    transform: translateY(-2px);
  }

  /* Mobile: Stack trust indicators vertically on small screens */
  @media (max-width: 640px) {
    .hero-section .flex.flex-wrap.items-center {
      flex-direction: column;
      align-items: flex-start;
      gap: 1rem;
    }

    .hero-section .w-px {
      display: none; /* Hide dividers on mobile */
    }
  }

  /* Respect reduced motion */
  @media (prefers-reduced-motion: reduce) {
    .hero-content,
    .hero-image,
    .animate-fade-in-up,
    .organic-blob,
    .organic-accent-1,
    .organic-accent-2,
    .aurora-background {
      animation: none;
    }

    .hero-cta:hover {
      transform: none;
    }
  }

  /* ===== SOFT LUXURY + ORGANIC STYLES ===== */

  /* Aurora gradient background */
  .aurora-background {
    position: relative;
    background:
      radial-gradient(ellipse at 20% 30%, rgba(212, 175, 55, 0.08) 0%, transparent 40%),
      radial-gradient(ellipse at 80% 60%, rgba(139, 169, 139, 0.06) 0%, transparent 45%),
      radial-gradient(ellipse at 60% 90%, rgba(26, 26, 46, 0.04) 0%, transparent 50%),
      radial-gradient(ellipse at 30% 70%, rgba(212, 175, 55, 0.05) 0%, transparent 40%),
      linear-gradient(135deg, #fdfaf3 0%, #ffffff 40%, #f9f8f6 70%, #faf8f3 100%);
    animation: aurora-shift 30s ease-in-out infinite;
  }

  @keyframes aurora-shift {
    0%, 100% {
      background-position: 0% 30%, 100% 60%, 60% 90%, 30% 70%, 0% 0%;
      background-size: 100% 100%, 120% 120%, 110% 110%, 115% 115%, 100% 100%;
    }
    25% {
      background-position: 50% 50%, 50% 50%, 80% 80%, 20% 20%, 25% 25%;
      background-size: 110% 110%, 100% 100%, 120% 120%, 105% 105%, 100% 100%;
    }
    50% {
      background-position: 100% 70%, 0% 30%, 40% 10%, 70% 90%, 50% 50%;
      background-size: 120% 120%, 110% 110%, 100% 100%, 125% 125%, 100% 100%;
    }
    75% {
      background-position: 30% 20%, 70% 80%, 90% 60%, 10% 40%, 75% 75%;
      background-size: 105% 105%, 115% 115%, 110% 110%, 100% 100%, 100% 100%;
    }
  }

  /* Organic decorative elements */
  .organic-blob {
    position: absolute;
    width: 300px;
    height: 300px;
    background: radial-gradient(circle at 30% 30%,
      rgba(212, 175, 55, 0.08) 0%,
      rgba(212, 175, 55, 0.04) 40%,
      transparent 70%);
    border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
    filter: blur(60px);
    animation: organic-float 20s ease-in-out infinite;
    z-index: -10; /* Far behind the image */
    bottom: 20%; /* Moved up from corners */
    right: -200px; /* Moved much further away */
    pointer-events: none;
  }

  @keyframes organic-float {
    0%, 100% {
      border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
      transform: rotate(0deg) translateY(0px);
    }
    25% {
      border-radius: 30% 60% 70% 40% / 50% 60% 30% 60%;
      transform: rotate(90deg) translateY(-20px);
    }
    50% {
      border-radius: 40% 50% 60% 30% / 40% 50% 60% 30%;
      transform: rotate(180deg) translateY(10px);
    }
    75% {
      border-radius: 50% 30% 40% 60% / 60% 40% 30% 50%;
      transform: rotate(270deg) translateY(-15px);
    }
  }

  .organic-accent-1 {
    position: absolute;
    top: -200px; /* Moved much further up */
    left: -200px; /* Moved much further left */
    width: 200px;
    height: 200px;
    background: radial-gradient(circle, rgba(139, 169, 139, 0.04) 0%, transparent 60%);
    border-radius: 40% 60% 60% 40% / 40% 40% 60% 60%;
    filter: blur(80px);
    animation: organic-drift 25s ease-in-out infinite;
    z-index: -10; /* Far behind the image */
    pointer-events: none;
  }

  .organic-accent-2 {
    position: absolute;
    bottom: 40%;
    right: -200px; /* Moved much further outside */
    width: 150px;
    height: 150px;
    background: radial-gradient(circle, rgba(26, 26, 46, 0.02) 0%, transparent 50%);
    border-radius: 50% 50% 30% 70% / 30% 70% 70% 30%;
    filter: blur(80px);
    animation: organic-drift 30s ease-in-out infinite reverse;
    z-index: -10; /* Far behind the image */
    pointer-events: none;
  }

  @keyframes organic-drift {
    0%, 100% { transform: translate(0, 0) scale(1); }
    33% { transform: translate(30px, -20px) scale(1.1); }
    66% { transform: translate(-20px, 30px) scale(0.9); }
  }

  /* Mobile optimizations for decorative elements */
  @media (max-width: 768px) {
    .organic-blob {
      display: none; /* Hide on mobile to prevent any issues */
    }

    .organic-accent-1,
    .organic-accent-2 {
      display: none; /* Hide extra accents on mobile for performance */
    }

    .aurora-background {
      animation-duration: 40s; /* Slower on mobile */
    }
  }

  /* Soft Luxury Trust Indicators - Grid Layout */
  .trust-indicators {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
    margin-top: 1.5rem;
    width: 100%;
  }

  .trust-card {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    background: linear-gradient(135deg,
      rgba(255, 255, 255, 0.98),
      rgba(250, 248, 243, 0.95));
    backdrop-filter: blur(20px);
    border: 1px solid rgba(212, 175, 55, 0.12);
    border-radius: 1rem;
    padding: 0.875rem 1.125rem;
    position: relative;
    overflow: hidden;
    cursor: default;
    box-shadow:
      0 2px 8px rgba(26, 26, 46, 0.04),
      0 8px 24px rgba(212, 175, 55, 0.03),
      inset 0 1px 1px rgba(255, 255, 255, 0.8);
    transition: all 0.3s ease;
    min-width: 0; /* Allow flexbox to shrink */
  }

  /* Elegant gradient border effect */
  .trust-card::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 1rem;
    padding: 1px;
    background: linear-gradient(
      135deg,
      rgba(212, 175, 55, 0.2),
      rgba(212, 175, 55, 0.05),
      rgba(139, 169, 139, 0.08)
    );
    -webkit-mask:
      linear-gradient(#fff 0 0) content-box,
      linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
  }

  .trust-icon {
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 42px;
    height: 42px;
    background: linear-gradient(135deg,
      rgba(212, 175, 55, 0.08),
      rgba(212, 175, 55, 0.04));
    border: 1px solid rgba(212, 175, 55, 0.1);
    border-radius: 0.625rem;
    color: #b8860b; /* Darker gold for better contrast */
  }

  .trust-content {
    display: flex;
    flex-direction: column;
    gap: 0.125rem;
    flex: 1; /* Allow content to grow */
    min-width: 0; /* Allow text to wrap */
  }

  .trust-value {
    font-weight: 700;
    font-size: 1rem;
    color: #1a1a2e;
    letter-spacing: -0.02em;
    line-height: 1.2;
  }

  .trust-label {
    font-size: 0.75rem;
    color: rgba(26, 26, 46, 0.65);
    font-weight: 500;
    letter-spacing: 0.01em;
    line-height: 1.3;
  }

  /* No hover effect since not clickable */

  /* Animated shine effect */
  @keyframes shine {
    0% {
      left: -100%;
    }
    50%, 100% {
      left: 200%;
    }
  }

  .trust-card::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 50%;
    height: 100%;
    background: linear-gradient(
      105deg,
      transparent,
      rgba(255, 255, 255, 0.4),
      transparent
    );
    transform: skewX(-25deg);
    animation: shine 6s ease-in-out infinite;
    animation-delay: calc(var(--index) * 0.5s);
  }

  .trust-card:nth-child(1) { --index: 0; }
  .trust-card:nth-child(2) { --index: 1; }
  .trust-card:nth-child(3) { --index: 2; }
  .trust-card:nth-child(4) { --index: 3; }

  /* Mobile adjustments */
  @media (max-width: 640px) {
    .trust-indicators {
      grid-template-columns: 1fr; /* Single column on mobile */
      gap: 0.75rem;
    }

    .trust-card {
      width: 100%;
      padding: 0.875rem 1.25rem;
    }

    .trust-icon {
      width: 38px;
      height: 38px;
    }

    .trust-value {
      font-size: 1rem;
    }

    .trust-label {
      font-size: 0.75rem;
    }

    .trust-card::after {
      animation: none; /* Disable shine on mobile for performance */
    }
  }

  /* Tablet adjustments */
  @media (min-width: 641px) and (max-width: 1024px) {
    .trust-indicators {
      grid-template-columns: repeat(2, 1fr); /* 2x2 grid on tablets */
      gap: 1rem;
      max-width: 600px; /* Limit width for better proportions */
    }

    .trust-card {
      padding: 0.875rem 1.25rem;
    }

    .trust-icon {
      width: 40px;
      height: 40px;
    }
  }

  /* Desktop - keep 2x2 grid */
  @media (min-width: 1024px) {
    .trust-indicators {
      grid-template-columns: repeat(2, 1fr);
      gap: 1.25rem;
      max-width: 100%; /* Full width within container */
    }

    .trust-card {
      padding: 1rem 1.5rem; /* Slightly more padding on desktop */
    }
  }
</style>
